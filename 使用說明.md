# 專案任務管理系統（FlRt）使用說明

---
## 1. 執行環境需求
- **JDK 8 以上**（建議 11 / 17）
- Windows / macOS / Linux 皆可
---

## 2. 解壓縮與編譯（終端機）
### 2.1 解壓縮
解壓縮 `v2_FlRt.zip` 後，專案主要原始碼在：
- `FlRt/src/`（所有 `.java` 都在這裡，且為 **default package**，沒有 `package ...;` 宣告）
- 入口程式：`FlRt/src/Main.java`

### 2.2 編譯與執行（互動式 UI）
#### macOS / Linux
在 `FlRt` 資料夾內執行：
```bash
cd FlRt
javac -encoding UTF-8 -d out src/*.java
java -cp out Main
```

#### Windows（PowerShell / CMD）
在 `FlRt` 資料夾內執行：

```bat
cd FlRt
javac -encoding UTF-8 -d out src\\*.java
java -cp out Main
```

> 若終端機中文亂碼，請確認有 `-encoding UTF-8`，並盡量使用支援 UTF-8 的終端機。

## 3. 執行模式（Main 內實際提供兩種）
### 3.1 一般互動模式（預設）
```bash
java -cp out Main
```
功能：註冊 / 登入、專案與任務操作、成員管理、看板（Board）、衝刺（Sprint）。

### 3.2 測試案例模式（Test Runner）
```bash
java -cp out Main test
```
功能：輸入測試案例編號執行測試。
- `LIST`：顯示可用測試案例清單
- `EXIT`：離開測試模式
---

## 4. 互動式 UI 操作指南（如何在終端看到並操作）
### 4.1 啟動後（未登入）
啟動後會看到未登入選單：
- `1) 註冊`
- `2) 登入`
- `3) 離開系統`

**註冊**：依序輸入 `username` 與 `password`。
**登入**：輸入 `username` 與 `password`；成功後會顯示 `登入成功，歡迎 <username> !`。

### 4.2 登入後主選單
登入後會看到：
1. 建立專案
2. 列出專案
3. 進入專案
4. 登出

- **建立專案**：輸入專案名稱即可建立。
- **列出專案**：以編號列出目前所有專案。
- **進入專案**：輸入專案編號進入該專案的任務操作介面。
---

## 5. 專案內功能（進入專案後）
進入專案後會看到以下選單（依 `enterProject()` 實作）：
1. 建立 Story 任務
2. 建立 SubTask 任務（需選擇 Story）
3. 建立 Bug 任務
4. 建立 Epic 任務
5. Epic 加入 Story
6. 列出任務
7. 變更任務狀態
8. 指派 / 取消指派任務
9. 管理成員
10. 看板操作（Board）
11. 衝刺操作（Sprint）
12. 建立 Comment / WorkLog 範例
13. 註冊觀察者並測試通知
14. 返回上一層

### 5.1 建立任務
#### (1) 建立 Story（選單 1）
依提示輸入：
- `Story ID`
- `Story Title`
- `Story Description`
建立成功會顯示該 Story 的 ID。

#### (2) 建立 SubTask（選單 2）
前置：專案內必須先有至少一個 **Story**。
流程：
1. 先從 Story 清單中選一個父 Story
2. 輸入 SubTask 的 `ID / Title / Description`

建立成功後會顯示「SubTask 隸屬 Story <StoryID>」。

#### (3) 建立 Bug（選單 3）
依提示輸入 Bug 的 `ID / Title / Description`，並選擇嚴重程度（Priority）：
- 1) LOW  2) MEDIUM  3) HIGH  4) CRITICAL

#### (4) 建立 Epic（選單 4）
依提示輸入 Epic 的 `ID / Title / Description`。

#### (5) Epic 加入 Story（選單 5）
流程：
1. 先選 Epic
2. 再選 Story
3. 成功後會顯示 Epic completion rate（完成率）

### 5.2 列出任務（選單 6）
會以編號列出專案內所有任務，格式類似：
- `[Story] S001 - Login (status=TODO)`
- `[Bug] BG001 - Crash (status=IN_PROGRESS)`

### 5.3 變更任務狀態（選單 7）
流程：
1. 先選任務編號
2. 再選新狀態：
   - 1) TODO
   - 2) IN_PROGRESS
   - 3) IN_REVIEW
   - 4) BLOCKED
   - 5) DONE
3. 系統會呼叫 `task.transitionTo(newStatus, null)` 並輸出變更結果

> 注意：此版本在 `Main.java` 中註解提到「尚未將 User 與 TeamMember 打通」，因此 `changedBy` 目前暫以 `null` 傳入。

### 5.4 指派 / 取消指派任務（選單 8）
前置條件：
- 專案內要先有任務
- 專案內要先有成員（用選單 9 新增）

流程：
1. 選任務
2. 選擇：
   - `1) 指派`：再選一位成員 → 系統呼叫 `task.assignTo(member)`
   - `2) 取消指派`：系統呼叫 `task.unassign()`

### 5.5 管理成員（選單 9）
子選單：
1. 新增成員
2. 列出成員
3. 返回

新增成員時會先選角色：
- 1) Developer
- 2) Tester
- 3) ProjectManager
- 4) ProductOwner

接著輸入：`memberId`、`name`。

### 5.6 看板操作 Board（選單 10）
子選單：
1. 新增欄位（TaskStatus）
2. 將任務加入看板
3. 依狀態查詢任務
4. 返回

建議操作順序（示範最清楚）：
1. 先新增欄位（例如 TODO / IN_PROGRESS / DONE）
2. 再把任務加入看板
3. 依狀態查詢任務，確認每個欄位下有哪些任務

### 5.7 衝刺操作 Sprint（選單 11）
子選單：
1. 建立/重設 Sprint
2. 將任務加入 Sprint
3. 查看剩餘任務數
4. 查看 BurnDown 資料
5. 返回

使用方式：
1. 先建立 Sprint（依提示輸入 `startDate` 與 `endDate`，格式提示為 `yyyy-MM-dd`）
2. 將任務加入 Sprint
3. 可查看剩餘任務數與 BurnDown 資料（系統會印出 `calculateBurnDownData()` 的結果）

### 5.8 Comment / WorkLog 範例（選單 12）
此功能是「示範用」，不需要輸入：系統會直接建立一筆 Comment 與 WorkLog，並把內容印在終端機。

### 5.9 Observer（觀察者）示範（選單 13）
用途：示範「任務狀態變更 → 觀察者收到通知」。

流程：
1. 選一個任務
2. 系統會對該任務註冊 observer
3. 你再選一個新狀態觸發 `transitionTo`
4. 終端機會印出類似：

```
[Observer] 任務 T001 狀態變更: ...
```

最後會顯示「觀察者收到通知次數」。
---

## 6. 快速示範流程（報告/驗收最短路徑）
1. 啟動 `java -cp out Main`
2. 註冊 → 登入
3. 建立專案 → 進入專案
4. 建立一個 Story（例如 S001）
5. 成員管理新增 Developer（例如 D001 / Alice）
6. 指派任務：把 S001 指派給 Alice
7. 變更狀態：把 S001 從 TODO → IN_PROGRESS → DONE（依系統狀態轉換規則允許的順序）
8. Board：新增欄位 → 把 S001 加入看板 → 依狀態查詢
9. Sprint：建立 Sprint → 加入任務 → 查看 Remaining / BurnDown
10. Observer：對任務註冊 observer，做一次狀態變更看通知
---

## 7. 測試案例模式（Main test）
啟動：
```bash
java -cp out Main test
```

指令：
- `LIST`：列出可用測試案例（例如 TC-T001、TC-TS001、TC-BD001…）
- `TC-XXXX`：執行該測試案例
- `EXIT`：離開測試模式
---

## 8. 常見問題排除（FAQ）
### Q1. `Error: Could not find or load main class Main`
請確認你有在 `FlRt` 資料夾內執行，並重新編譯：
```bash
javac -encoding UTF-8 -d out src/*.java
java -cp out Main
```

### Q2. 中文顯示亂碼
- 編譯時保留 `-encoding UTF-8`
- Windows 建議用 PowerShell / Windows Terminal

### Q3. SubTask 建不起來
SubTask 在 UI 上「必須先選一個 Story」作為父任務；請先建立 Story。

### Q4. 無法指派任務
指派前必須先新增成員（選單 9）。
---

## 9. 離開方式
- 未登入狀態：選 `3) 離開系統`
- 專案內：選 `14) 返回上一層`
- 測試模式：輸入 `EXIT`

