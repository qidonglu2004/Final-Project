=====================================
測試案例清單
=====================================

【Enum 測試】

TC-E001: TaskStatus 應包含 5 種狀態
預期：TODO, IN_PROGRESS, IN_REVIEW, BLOCKED, DONE 皆存在

TC-E002: Priority 應包含 4 種等級
預期：LOW, MEDIUM, HIGH, CRITICAL 皆存在


【Task（抽象類別）測試】

TC-T001: 正常建立 Task（以 Story 具體類別建立）
輸入：id="S-001", title="Login UI", description="Create login screen"
預期：物件建立成功；status 預設為 TODO；priority 預設為 MEDIUM；assignee 為 null；statusHistory 為空；observers 為空

TC-T002: 建立 Task 時 id 為 null 拋出例外
輸入：id=null, title="Login UI", description="..."
預期：拋出 IllegalArgumentException，訊息為 "id cannot be null or empty"

TC-T003: 建立 Task 時 id 為空字串拋出例外
輸入：id="", title="Login UI", description="..."
預期：拋出 IllegalArgumentException，訊息為 "id cannot be null or empty"

TC-T004: 建立 Task 時 title 為 null 拋出例外
輸入：id="S-001", title=null, description="..."
預期：拋出 IllegalArgumentException，訊息為 "title cannot be null or empty"

TC-T005: 建立 Task 時 title 為空字串拋出例外
輸入：id="S-001", title="", description="..."
預期：拋出 IllegalArgumentException，訊息為 "title cannot be null or empty"

TC-T006: getStatus() 回傳目前狀態
前置：建立 Task，並成功轉換到 IN_PROGRESS
動作：呼叫 getStatus()
預期：回傳 IN_PROGRESS

【Task 狀態轉換 transitionTo 測試】

TC-TS001: TODO → IN_PROGRESS 合法轉換
前置：Task 初始狀態為 TODO
動作：transitionTo(IN_PROGRESS)
預期：回傳 true；status 變為 IN_PROGRESS；statusHistory 新增 1 筆；觸發 notifyObservers()

TC-TS002: IN_PROGRESS → IN_REVIEW 合法轉換
前置：Task 狀態為 IN_PROGRESS
動作：transitionTo(IN_REVIEW)
預期：回傳 true；status 變為 IN_REVIEW；statusHistory 新增紀錄

TC-TS003: IN_PROGRESS → BLOCKED 合法轉換
前置：Task 狀態為 IN_PROGRESS
動作：transitionTo(BLOCKED)
預期：回傳 true；statusHistory 新增紀錄

TC-TS004: IN_REVIEW → DONE 合法轉換
前置：Task 狀態為 IN_REVIEW
動作：transitionTo(DONE)
預期：回傳 true；statusHistory 新增紀錄

TC-TS005: IN_REVIEW → IN_PROGRESS 合法轉換
前置：Task 狀態為 IN_REVIEW
動作：transitionTo(IN_PROGRESS)
預期：回傳 true；statusHistory 新增紀錄

TC-TS006: BLOCKED → IN_PROGRESS 合法轉換
前置：Task 狀態為 BLOCKED
動作：transitionTo(IN_PROGRESS)
預期：回傳 true；statusHistory 新增紀錄

TC-TS007: DONE → IN_PROGRESS 合法轉換
前置：Task 狀態為 DONE
動作：transitionTo(IN_PROGRESS)
預期：回傳 true；statusHistory 新增紀錄

TC-TS008: TODO → DONE 非法轉換拋出例外
前置：Task 狀態為 TODO
動作：transitionTo(DONE)
預期：拋出 IllegalStateException，訊息為 "Cannot transition from TODO to DONE"

TC-TS009: BLOCKED → DONE 非法轉換拋出例外
前置：Task 狀態為 BLOCKED
動作：transitionTo(DONE)
預期：拋出 IllegalStateException，訊息為 "Cannot transition from BLOCKED to DONE"

TC-TS010: DONE → DONE（自轉換）規格未允許，應視為非法
前置：Task 狀態為 DONE
動作：transitionTo(DONE)
預期：拋出 IllegalStateException，訊息為 "Cannot transition from DONE to DONE"

【Task 指派 assignTo / unassign 測試】

TC-A001: 指派成員成功
前置：建立 Task；建立 TeamMember
動作：assignTo(member)
預期：assignee 設為該 member

TC-A002: assignTo 傳入 null 拋出例外
動作：assignTo(null)
預期：拋出 IllegalArgumentException（訊息規格書未明確規定）

TC-A003: 取消指派成功
前置：Task 已被指派 assignee
動作：unassign()
預期：assignee 變為 null

【Story 類別測試】

TC-S001: addSubTask 成功加入子任務
前置：建立 Story；建立 SubTask
動作：addSubTask(subTask)
預期：subTasks size +1

TC-S002: addSubTask 傳入 null 拋出例外
動作：addSubTask(null)
預期：拋出 IllegalArgumentException

TC-S003: getProgress 計算完成比例（0.0 ~ 1.0）
前置：Story 有 4 個 SubTask，其中 2 個狀態為 DONE
動作：getProgress()
預期：回傳 0.5

TC-S004: getProgress 當沒有任何 SubTask
前置：Story 的 subTasks 為空
動作：getProgress()
預期：回傳 0.0（或依實作定義，但必須落在 0.0~1.0）

【Bug 類別測試】

TC-BG001: setSeverity 設定嚴重程度成功
前置：建立 Bug
動作：setSeverity(HIGH)
預期：severity 變為 HIGH

TC-BG002: setSeverity 傳入 null 拋出例外
前置：建立 Bug
動作：setSeverity(null)
預期：拋出 IllegalArgumentException

【Epic 類別測試】

TC-EP001: addStory 加入 Story 成功
前置：建立 Epic；建立 Story
動作：addStory(story)
預期：stories size +1

TC-EP002: addStory 傳入 null 拋出例外
動作：addStory(null)
預期：拋出 IllegalArgumentException

TC-EP003: getCompletionRate 回傳所有 Story 平均完成度
前置：Epic 有兩個 Story，progress 分別為 0.25 與 0.75
動作：getCompletionRate()
預期：回傳 0.5

TC-EP004: getCompletionRate 當 Epic 沒有 Story
前置：stories 為空
動作：getCompletionRate()
預期：回傳 0.0（或依實作定義，但應為合理值且不拋例外）

【SubTask 約束測試】

TC-ST001: SubTask 必須依附某一 Story（結構約束）
前置：建立 SubTask 但未被任何 Story addSubTask
動作：執行系統檢核/建構（依實作）
預期：不允許（此約束在規格中存在；具體例外型別與訊息未明確規定）

【TeamMember 類別測試】

TC-TM001: 正常建立 TeamMember
輸入：memberId="U001", name="Alice", role="Developer"
預期：物件建立成功，欄位正確

TC-TM002: memberId 為空字串不允許
輸入：memberId="", name="Alice", role="Developer"
預期：不允許（例外與訊息規格書未明確規定）

TC-TM003: name 為空字串不允許
輸入：memberId="U001", name="", role="Developer"
預期：不允許（例外與訊息規格書未明確規定）

TC-TM004: 子類別可正確建立
動作：建立 Developer / Tester / ProjectManager / ProductOwner 物件
預期：皆可被視為 TeamMember 使用（多型）

【Project 類別測試】

TC-P001: addTask 成功加入任務
前置：建立 Project；建立 Story 任務
動作：addTask(task)
預期：tasks size +1

TC-P002: addTask 傳入 null 拋出例外
動作：addTask(null)
預期：拋出 IllegalArgumentException

TC-P003: addMember 成功加入成員
前置：建立 Project；建立 TeamMember
動作：addMember(member)
預期：members size +1

TC-P004: addMember 加入重複成員拋出例外
前置：Project 已包含 memberId="U001" 的成員
動作：再加入同一成員（或同 memberId 成員）
預期：拋出 IllegalArgumentException

【Board 類別測試】

TC-BD001: getTasksByStatus 回傳符合狀態的任務
前置：Project 有 3 個任務：TODO x2、IN_PROGRESS x1
動作：getTasksByStatus(TODO)
預期：回傳清單 size = 2，且皆為 TODO

TC-BD002: getTasksByStatus 查無結果
前置：Project 中沒有 BLOCKED 任務
動作：getTasksByStatus(BLOCKED)
預期：回傳空的 ArrayList

【Sprint 類別測試】

TC-SP001: getRemainingTasksCount 回傳非 DONE 的任務數
前置：Sprint tasks 共 5 個，其中 DONE 2 個
動作：getRemainingTasksCount()
預期：回傳 3

TC-SP002: calculateBurnDownData 回傳每日剩餘任務數資料
前置：Sprint 有 startDate/endDate 並可推得天數；期間內任務逐日完成
動作：calculateBurnDownData()
預期：回傳 ArrayList<Integer>；長度 = 衝刺天數；數值呈現「每日剩餘任務數」

【StatusChange 類別測試】

TC-SC001: 狀態變更紀錄內容正確
前置：Task 從 TODO 轉 IN_PROGRESS，changedBy = 某 TeamMember
動作：檢查最新一筆 StatusChange
預期：fromStatus=TODO、toStatus=IN_PROGRESS、changedBy 正確、timestamp 有值

【TaskObserver（觀察者）測試】

TC-OB001: 任務狀態成功變更時會通知觀察者
前置：Task 已註冊 1 個 TaskObserver mock；Task 狀態為 TODO
動作：transitionTo(IN_PROGRESS)
預期：observer.update(task, change) 被呼叫 1 次；change 內容與 statusHistory 最新紀錄一致

TC-OB002: 非法狀態轉換不應通知觀察者
前置：Task 已註冊 observer；Task 狀態為 TODO
動作：transitionTo(DONE)（非法）
預期：拋 IllegalStateException；observer.update 不被呼叫；statusHistory 不新增

【Comment 類別測試】

TC-CM001: 正常建立 Comment
輸入：author=TeamMember, content="LGTM", createdTime="2025-12-22 10:00"
預期：物件建立成功，欄位正確

【WorkLog 類別測試】

TC-WL001: 正常建立 WorkLog
輸入：member=TeamMember, hours=3, description="Fix bug #12"
預期：物件建立成功，欄位正確